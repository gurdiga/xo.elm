<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>XO</title>
	</head>
	<body>
		<div id="main"></div>

		<div>
			The editor:
			<pre id="editor"></pre>
			<button id="editor--update">Update</button>
		</div>

		<script src="dist/Main.js"></script>
		<script>
			var node = document.getElementById('main');
			var app = Elm.Main.embed(node);
			var editor = document.getElementById('editor');

			app.ports.sendToEditor.subscribe(function(string) {
				console.log('got sendToEditor message with text', JSON.stringify(string));
				editor.textContent = string;
			});

			document.getElementById('editor--update').addEventListener('click', function() {
				var string = editor.textContent + " edited";

				console.log('sending receiveFromEditor message with text', JSON.stringify(string));
				app.ports.receiveFromEditor.send(string);
			});

		</script>
	</body>
</html>
